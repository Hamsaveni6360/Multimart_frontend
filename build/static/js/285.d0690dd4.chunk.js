"use strict";(self.webpackChunkreact_ecommerce=self.webpackChunkreact_ecommerce||[]).push([[285],{285:(e,t,s)=>{s.r(t),s.d(t,{default:()=>l});var a=s(2791),r=s(5294),c=s(184);const l=function(){const[e,t]=(0,a.useState)(""),[s,l]=(0,a.useState)(""),[n,o]=(0,a.useState)(!1),[i,h]=(0,a.useState)(""),[d,u]=(0,a.useState)({}),[m,x]=(0,a.useState)(!1),j=()=>{r.Z.post("http://localhost:5000/register",{name:e,email:s}).then((e=>{e.data&&(alert("Data saved successfully"),l(""),t(""))})).catch((e=>{console.error("POST request error:",e),alert("${error}")}))},p=()=>{r.Z.post("http://localhost:5000/login",{name:e,email:s}).then((e=>{const t=e.data;h(t.success?"Login successful":"Login unsuccessful"),t.success&&(g(),x(!0))})).catch((e=>{console.error("Login request error:",e),alert("Something went wrong during login.")}))},g=()=>{r.Z.get("http://localhost:5000/dashboard?name=".concat(e)).then((e=>{const t=e.data;u(t)})).catch((e=>{console.error("Dashboard data request error:",e),alert("Failed to fetch dashboard data.")}))};return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)("body",{children:(0,c.jsx)("div",{className:"cont",children:m?(0,c.jsxs)("div",{children:[(0,c.jsxs)("h1",{children:["Welcome to Your Dashboard, ",e,"!"]}),(0,c.jsx)("p",{children:"Dashboard Data:"}),(0,c.jsx)("ul",{children:Object.entries(d).map((e=>{let[t,s]=e;return(0,c.jsx)("li",{children:"".concat(t,": ").concat(s)},t)}))})]}):(0,c.jsx)("div",{className:"container my-3 py-3",children:(0,c.jsxs)("div",{children:[(0,c.jsx)("h1",{children:n?"Login":"Sign Up"}),(0,c.jsx)("hr",{}),(0,c.jsx)("div",{class:"row my-4 h-100",children:(0,c.jsx)("div",{className:"col-md-4 col-lg-4 col-sm-8 mx-auto",children:(0,c.jsxs)("form",{children:[(0,c.jsxs)("div",{class:"form my-3",children:[(0,c.jsx)("label",{for:"Name",children:"Name:"}),(0,c.jsx)("input",{type:"text",placeholder:"name",value:e,onChange:e=>t(e.target.value)})]}),(0,c.jsx)("label",{for:"Email",children:"Email:"}),(0,c.jsx)("input",{type:"email",placeholder:"email",value:s,onChange:e=>l(e.target.value)}),(0,c.jsx)("br",{}),(0,c.jsx)("br",{}),(0,c.jsx)("button",{type:"button",onClick:()=>{n?p():j()},children:n?"Login":"Sign Up"}),(0,c.jsx)("br",{}),(0,c.jsx)("br",{}),(0,c.jsx)("p",{children:i}),(0,c.jsx)("button",{type:"button",onClick:()=>o(!n),children:n?"Switch to Sign Up":"Switch to Login"})]})})})]})})})})})}}}]);
//# sourceMappingURL=285.d0690dd4.chunk.js.map